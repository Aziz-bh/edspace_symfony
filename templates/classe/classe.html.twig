{% extends 'backOffice.html.twig' %}
{% block leftNavBar %}
{%  include 'styles.html.twig' %}
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a href="index3.html" class="nav-link">Classe {{ classe.classe }}</a>
        </li>
    </ul>
{% endblock %}
{% block cards %}



    <div class="content-wrapper">
<div class="container-fluid">



<div class="bg-modal">
    <div class="modal-content">
      <div class="close">+</div> 
      <h3> Ajouter un etudiant :</h3> 
      <form id="form" action="" method="post">
                          <div class="col-md-12">
                          <label for="inputClasse" class="form-label">Classe :</label>
                          <input type="text" value="{{ classe.classe }}" class="form-control id" name="id" id="id" readonly>
                          </div>

                          <div class="col-md-12 n">
                          <label for="inputEtudiant" class="form-label">Etudiant :</label>
                          <br>
                          <select name="Etudiant" id="Etudiant" class="col-md-12" >
                          <option id="selected"  class="Etudiant" value ="" selected></option>
                          {% for n in etudiants %}
                        <option value="{{n.id}}">{{n.username}} {{n.prenom}}</option>
                        {% endfor %}
                      </select >
                        </div>
                        <br>
                        <div class="col-12">
                        <button type="submit" id="save" class="btn btn-primary">Enregistrer</button>
                        </div>
            </form>
    </div>
</div>




<br>

<div class="d-flex justify-content-between">

                            <div class="new">
                                <a href="../classe" id="19" class="btn btn-primary">liste des classes</a>
                            </div>

                                            <div class="add">
        <a href="#" id="button" class="btn btn-primary">Ajouter un etudiant</a>
                  </div>
                        </div>

<input type="text" class="form-control" id="myInput" onkeyup="myFunction()" placeholder="Search for names..">
    <table class="table table-striped">
        <thead>
            <th></th>
            <th>Id</th>
            <th>Classe</th>
            <th>Nom</th>
            <th>Prenom</th>
            <th>Email</th>
            <th>Supprimer</th>
        </thead>
        {% for n in etudiant %}
        <tr class="a-item">
            <td class="let"></td>
            <td class="let Eid">{{ n.id }}</td>
            <td class="let Eclasse">{{n.classe.classe}}</td>
            <td class="let Enom">{{n.username}}</td>
            <td class="let Eprenom">{{n.prenom}}</td>

            <td class="Eemail">{{n.email}}</td>

            <td class="t-item" id="{{ n.id }}"><a href="{{ path('suppClasse', {'id': n.id }) }}">
                  <i  class="fas fa-trash-alt"></i> </a></td>
        </tr >
        {% endfor %}

    </table>
 <a href="{{ path('listet', {'id': classe.id }) }}">Imprimer </a>
</div>
</div>

<script>

function myFunction() {
  // Declare variables

  var input, filter, table, tr, td, i, txtValue;

  input = document.getElementById("myInput");

  filter = input.value.toUpperCase();

  table = document.querySelector('.table table-striped');

  tr = document.querySelectorAll('.a-item');

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
     
    td = tr[i].querySelectorAll('.let')[3];
    if (td) {
      txtValue = td.textContent || td.innerText;
     
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>


{% endblock %}